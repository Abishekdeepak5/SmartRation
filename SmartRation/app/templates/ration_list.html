{% extends 'base.html' %}

{% block title %}Register{% endblock %}

{% block content %}
{% load static %}

<div class="mt-24 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
  <!-- Dashboard Links Grid -->
  <div class="grid grid-cols-1 sm:grid-cols-2 gap-6 mb-10">
    <a href="{% url 'admin' %}" 
       class="flex items-center justify-center gap-3 p-6 bg-indigo-600 text-white rounded-lg shadow hover:bg-indigo-700 transition">
      <i class="fas fa-tachometer-alt text-xl"></i>
      <span class="text-lg font-semibold">Dashboard</span>
    </a>
    <a href="{% url 'add_ration' %}" 
       class="flex items-center justify-center gap-3 p-6 bg-green-600 text-white rounded-lg shadow hover:bg-green-700 transition">
      <i class="fa fa-plus text-xl"></i>
      <span class="text-lg font-semibold">Add New Ration</span>
    </a>
  </div>

  <!-- Ration Cards List -->
  <div class="space-y-6">
    {% for ration in rations %}
    <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6 flex flex-col sm:flex-row justify-between items-start sm:items-center">
      <div class="text-gray-800 dark:text-gray-200 text-sm sm:text-base">
        {% if ration.staff_name %}
          <strong>Staff:</strong> {{ ration.staff_name }} &mdash;
        {% endif %}
        <strong>Address:</strong> {{ ration.address }} &mdash;
        <strong>Pincode:</strong> {{ ration.pincode }}
      </div>
      <div class="mt-4 sm:mt-0 flex flex-wrap gap-3">
        <a href="{% url 'edit_ration' ration.ration_id %}" 
           class="px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700 transition text-sm">Edit</a>
        <a href="{% url 'delete_ration' ration.ration_id %}" 
           class="px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition text-sm">Delete</a>
        <a href="{% url 'listfamily' ration.ration_id %}" 
           class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition text-sm">View Families</a>
        <a href="{% url 'staff_assign' ration.ration_id %}" 
           class="px-4 py-2 bg-teal-600 text-white rounded hover:bg-teal-700 transition text-sm">Change Staff</a>
      </div>
    </div>
    {% empty %}
    <p class="text-center text-gray-500 dark:text-gray-400">No rations found.</p>
    {% endfor %}
  </div>
</div>
{% endblock %}
