{% extends 'base.html' %}

{% block title %}Add Ration{% endblock %}

{% block content %}
<div class="max-w-lg mx-auto my-10 p-6 bg-white dark:bg-gray-800 rounded-lg shadow-md">
  <h2 class="text-3xl font-semibold text-indigo-600 dark:text-indigo-400 mb-6 text-center">
    {% if rationShop %}
      Edit Ration
    {% else %}
      Add Ration
    {% endif %}
  </h2>

  <form method="POST" class="space-y-6" novalidate>
    {% csrf_token %}
    {% if rationShop %}
      <input type="hidden" name="staff" value="{{ rationShop.staff }}">
    {% endif %}

    <div>
      <label for="address" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Address</label>
      <input
        id="address"
        name="address"
        type="text"
        required
        placeholder="Enter address"
        value="{% if rationShop %}{{ rationShop.address }}{% endif %}"
        class="w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200"
      >
    </div>

    <div>
      <label for="pincode" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Pincode</label>
      <input
        id="pincode"
        name="pincode"
        type="text"
        required
        placeholder="Enter pincode"
        value="{% if rationShop %}{{ rationShop.pincode }}{% endif %}"
        class="w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200"
      >
    </div>

    <fieldset>
      <legend class="text-lg font-semibold text-gray-700 dark:text-gray-300 mb-3">Opening Days</legend>
      <div class="grid grid-cols-2 sm:grid-cols-3 gap-4">
        <label class="inline-flex items-center">
          <input
            type="checkbox"
            name="open_days"
            value="monday"
            class="form-checkbox text-indigo-600 dark:text-indigo-400"
            {% if rationShop and 1 in rationShop.dayList %}checked{% endif %}
          >
          <span class="ml-2 text-gray-700 dark:text-gray-300">Monday</span>
        </label>
        <label class="inline-flex items-center">
          <input
            type="checkbox"
            name="open_days"
            value="tuesday"
            class="form-checkbox text-indigo-600 dark:text-indigo-400"
            {% if rationShop and 2 in rationShop.dayList %}checked{% endif %}
          >
          <span class="ml-2 text-gray-700 dark:text-gray-300">Tuesday</span>
        </label>
        <label class="inline-flex items-center">
          <input
            type="checkbox"
            name="open_days"
            value="wednesday"
            class="form-checkbox text-indigo-600 dark:text-indigo-400"
            {% if rationShop and 3 in rationShop.dayList %}checked{% endif %}
          >
          <span class="ml-2 text-gray-700 dark:text-gray-300">Wednesday</span>
        </label>
        <label class="inline-flex items-center">
          <input
            type="checkbox"
            name="open_days"
            value="thursday"
            class="form-checkbox text-indigo-600 dark:text-indigo-400"
            {% if rationShop and 4 in rationShop.dayList %}checked{% endif %}
          >
          <span class="ml-2 text-gray-700 dark:text-gray-300">Thursday</span>
        </label>
        <label class="inline-flex items-center">
          <input
            type="checkbox"
            name="open_days"
            value="friday"
            class="form-checkbox text-indigo-600 dark:text-indigo-400"
            {% if rationShop and 5 in rationShop.dayList %}checked{% endif %}
          >
          <span class="ml-2 text-gray-700 dark:text-gray-300">Friday</span>
        </label>
        <label class="inline-flex items-center">
          <input
            type="checkbox"
            name="open_days"
            value="saturday"
            class="form-checkbox text-indigo-600 dark:text-indigo-400"
            {% if rationShop and 6 in rationShop.dayList %}checked{% endif %}
          >
          <span class="ml-2 text-gray-700 dark:text-gray-300">Saturday</span>
        </label>
        <label class="inline-flex items-center">
          <input
            type="checkbox"
            name="open_days"
            value="sunday"
            class="form-checkbox text-indigo-600 dark:text-indigo-400"
            {% if rationShop and 7 in rationShop.dayList %}checked{% endif %}
          >
          <span class="ml-2 text-gray-700 dark:text-gray-300">Sunday</span>
        </label>
      </div>
    </fieldset>

    <button
      type="submit"
      class="w-full py-3 bg-indigo-600 hover:bg-indigo-700 focus:ring-4 focus:ring-indigo-300 text-white font-semibold rounded-md transition duration-300"
    >
      {% if rationShop %}Update Ration{% else %}Add Ration{% endif %}
    </button>
  </form>
</div>
{% endblock %}
